{% include 'header.html' %}

{% block head %}
<link rel="stylesheet" href="/static/css/style.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
{% endblock %}

{% block content %}
<section class="create">
    <div class="container">
        <div class="page-title">
            <h3>Q&A 작성</h3>
        </div>
    

    
        <form action="/qnas/create" method="post">
            <div class="form-group">
                <label for="username">작성자</label>
                <input type="text" class="form-control" id="username" name="username" value="{{ username }}" readonly>
            </div>
            <div class="form-group">
                <label for="title">제목</label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div>
            <div class="form-group">
                <label for="content">내용</label>
                <textarea class="form-control" id="content" name="content" rows="5" required></textarea>
            </div>
            <div class="btn-wrap">
                <button type="submit" class="btn btn-dark">등록</button>
                <button type="button" onclick="location.href='/qnas'" class="btn btn-dark">목록으로</button>
            </div>
    </section>

{% if login_required %}
<script>
    document.addEventListener("DOMContentLoaded", function() {

        Swal.fire({
            title: '로그인이 필요합니다.',
            icon: 'warning',
            confirmButtonText: '확인'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "/login"; // 로그인 페이지로 리디렉션
            }
        });
        
    });
</script>
{% endif %}
{% endblock %}
{% include 'footer.html' %}
